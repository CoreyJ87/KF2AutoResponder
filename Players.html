!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>Killing Floor 2 WebAdmin - Players</title>
    <link rel="stylesheet" type="text/css" href="/images/kf2.css?gzip" />
    <link rel="stylesheet" type="text/css" href="/images/kf2modern.css?gzip" />

    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
    <meta name="generator" content="Killing Floor 2 WebAdmin" />
    <script type="text/javascript">
        var webadminPath = '/ServerAdmin';
        var pageUri = '/ServerAdmin/current/players';
    </script>
    <script type="text/javascript" src="/images/jquery.js?gzip"></script>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,700,700italic,600italic' rel='stylesheet' type='text/css'>

</head>
<body class="">


<div id="header">
    <h1><span>Killing Floor 2 WebAdmin</span></h1>
    <h3 id="pageUri">/current/players</h3>
    <h4 id="adminName">Welcome <span class="username">SyNiK4L</span></h4>
    <div id="pageInfo">
        <h2 id="pageTitle">Players</h2>
        <p id="pageDescription">Manage the players currently on the server.</p>
    </div>
</div>

<div id="gamesummary">
    <h2>Current Game</h2>
    <div id="gamesummary-details">
        <div class="gs_mapimage"><img src="/images/maps/noimage.png" alt="KF-SuperPerkTrainingDeluxe-v7d"/></div>
        <dl class="gs_details">
            <dt class="gs_map">Map</dt>
            <dd class="gs_map">KF-SuperPerkTrainingDeluxe-v7</dd>
            <dt class="gs_players">Players</dt>
            <dd class="gs_players">5/6</dd>
            <dt class="gs_wave">Wave 3</dt>
            <dd class="gs_wave">45/217</dd>
        </dl>
    </div>
    <script type="text/javascript" src="/images/gamesummary.js?gzip"></script>

</div>

<div id="messages">


</div>


<div id="content">

    <h2>Players</h2>

    <div class="section narrow">
        <table id="players" class="grid">
            <thead>
            <tr>
                <th>&#160;</th>
                <th><a href="/ServerAdmin/current/players?sortby=name&amp;reverse=true" class="sortable sorted">Player name</a></th>
                <th><a href="/ServerAdmin/current/players?sortby=ping&amp;reverse=" class="sortable ">Ping</a></th>
                <th>IP</th>
                <th title="The unique ID for this game account.">Unique Net ID</th>
                <th>Steam ID</th>
                <th title="The Steam community ID.">Community ID</th>
                <th>Admin</th>
                <th title="Spectator">Spec.</th>
                <th>Controls</th>
            </tr>
            </thead>
            <tbody>
            <tr class="even">
                <td style="background: transparent; color: transparent;">&#160;</td>
                <td>Data</td>
                <td class="right">32</td>
                <td>24.98.210.77</td>
                <td>0x01100001002FBC6B</td>
                <td>76561197963394155</td>
                <td></td>
                <td class="center">No</td>
                <td class="center">No</td>

                <td>
                    <form method="post" action="/ServerAdmin/current/players">
                        <div>
                            <input type="hidden" name="playerid" value="297" />
                            <input type="hidden" name="playerkey" value="297_0x01100001002FBC6B_4.1911" />
                            <select name="action">
                                <option value=""></option>
                                <option value="kick">Kick</option>
                                <option value="sessionban">Session Ban</option>
                                <option value="banip">Ban IP</option>
                                <option value="banid">Ban Unique ID</option>
                                <option value="mutevoice">Mute Voice</option>
                                <option value="unmutevoice">Unmute Voice</option>

                            </select>
                            <button type="submit">go</button>
                        </div>
                    </form>
                </td>
            </tr>
            <tr class="odd">
                <td style="background: transparent; color: transparent;">&#160;</td>
                <td>ElectricCrowbar [Mus</td>
                <td class="right">56</td>
                <td>173.3.153.212</td>
                <td>0x0110000100287CE6</td>
                <td>76561197962919142</td>
                <td></td>
                <td class="center">No</td>
                <td class="center">No</td>

                <td>
                    <form method="post" action="/ServerAdmin/current/players">
                        <div>
                            <input type="hidden" name="playerid" value="298" />
                            <input type="hidden" name="playerkey" value="298_0x0110000100287CE6_91.3592" />
                            <select name="action">
                                <option value=""></option>
                                <option value="kick">Kick</option>
                                <option value="sessionban">Session Ban</option>
                                <option value="banip">Ban IP</option>
                                <option value="banid">Ban Unique ID</option>
                                <option value="mutevoice">Mute Voice</option>
                                <option value="unmutevoice">Unmute Voice</option>

                            </select>
                            <button type="submit">go</button>
                        </div>
                    </form>
                </td>
            </tr>
            <tr class="even">
                <td style="background: transparent; color: transparent;">&#160;</td>
                <td>Geiler Schwuler CSGO</td>
                <td class="right">148</td>
                <td>77.4.55.13</td>
                <td>0x01100001000867B6</td>
                <td>76561197960816566</td>
                <td></td>
                <td class="center">No</td>
                <td class="center">No</td>

                <td>
                    <form method="post" action="/ServerAdmin/current/players">
                        <div>
                            <input type="hidden" name="playerid" value="299" />
                            <input type="hidden" name="playerkey" value="299_0x01100001000867B6_120.1186" />
                            <select name="action">
                                <option value=""></option>
                                <option value="kick">Kick</option>
                                <option value="sessionban">Session Ban</option>
                                <option value="banip">Ban IP</option>
                                <option value="banid">Ban Unique ID</option>
                                <option value="mutevoice">Mute Voice</option>
                                <option value="unmutevoice">Unmute Voice</option>

                            </select>
                            <button type="submit">go</button>
                        </div>
                    </form>
                </td>
            </tr>
            <tr class="odd">
                <td style="background: transparent; color: transparent;">&#160;</td>
                <td>(mj)Cpt_Anoki</td>
                <td class="right">176</td>
                <td>109.91.34.132</td>
                <td>0x0110000101BD3492</td>
                <td>76561197989442706</td>
                <td></td>
                <td class="center">No</td>
                <td class="center">No</td>

                <td>
                    <form method="post" action="/ServerAdmin/current/players">
                        <div>
                            <input type="hidden" name="playerid" value="296" />
                            <input type="hidden" name="playerkey" value="296_0x0110000101BD3492_4.0940" />
                            <select name="action">
                                <option value=""></option>
                                <option value="kick">Kick</option>
                                <option value="sessionban">Session Ban</option>
                                <option value="banip">Ban IP</option>
                                <option value="banid">Ban Unique ID</option>
                                <option value="mutevoice">Mute Voice</option>
                                <option value="unmutevoice">Unmute Voice</option>

                            </select>
                            <button type="submit">go</button>
                        </div>
                    </form>
                </td>
            </tr>
            <tr class="even">
                <td style="background: transparent; color: transparent;">&#160;</td>
                <td>Themistocles</td>
                <td class="right">88</td>
                <td>172.248.108.156</td>
                <td>0x0110000101F8B201</td>
                <td>76561197993341441</td>
                <td></td>
                <td class="center">No</td>
                <td class="center">No</td>

                <td>
                    <form method="post" action="/ServerAdmin/current/players">
                        <div>
                            <input type="hidden" name="playerid" value="295" />
                            <input type="hidden" name="playerkey" value="295_0x0110000101F8B201_4.0290" />
                            <select name="action">
                                <option value=""></option>
                                <option value="kick">Kick</option>
                                <option value="sessionban">Session Ban</option>
                                <option value="banip">Ban IP</option>
                                <option value="banid">Ban Unique ID</option>
                                <option value="mutevoice">Mute Voice</option>
                                <option value="unmutevoice">Unmute Voice</option>

                            </select>
                            <button type="submit">go</button>
                        </div>
                    </form>
                </td>
            </tr>

            </tbody>
        </table>
    </div>

    <script type="text/javascript">
        //<![CDATA[
        $(document).ready(function(){
            if ($("#players td").size() <= 1) return;
            $("#players th a").each(function(){
                jthis = $(this);
                jthis.before(jthis.html());
                jthis.remove();
            });
            $("#players th").wrapInner("<span></span>");
            $("#players").tablesorter({sortList:[[1,0]], widgets: ['zebra'], headers: { 9: {sorter: false} }});

            $("#players form").each(function(i){
                var frm = $(this);
                frm.submit(function() {
                    $.ajax({
                        type: "POST",
                        url: '/ServerAdmin/current/players+data',
                        data: {ajax: 1, action: $('[name="action"]', frm).val(), playerkey: $('[name="playerkey"]', frm).val()},
                        success: actionSuccess,
                        error: ajaxError,
                        dataType: 'xml'
                    });
                    return false;
                });
            });
        });

        function actionSuccess(data, textStatus) {
            var jdata = $(data);
            var old = $('#messages *');
            var newmsg = $(jdata.find('request messages').text());
            newmsg.hide();
            $('#messages').prepend(newmsg);
            newmsg.fadeIn();
            old.remove();
            var result = jdata.find('request kicked');
            if (result.length > 0)
            {
                var playerkey = result.attr('playerkey');
                $('[name="playerkey"][value="'+playerkey+'"]').parents('tr').fadeOut('normal', function(){$(this).remove()});
            }
            result = jdata.find('request text');
            if (result.length > 0)
            {
                var playerkey = result.attr('playerkey');
                $('option[value="toggletext"]', $('[name="playerkey"][value="'+playerkey+'"]').parent()).html(result.attr('label'));
            }
        }

        function ajaxError(XMLHttpRequest, textStatus, errorThrown) {
            if (XMLHttpRequest.status == 403) {
                document.location = '/ServerAdmin/current/players';
            }
        }
        //]]>
    </script>

</div>


<div id="menu">
    <h2>Navigation</h2>

    <ul class="navigation">
        <li class="with-submenu"><a href="/ServerAdmin/current" title="The current game status."><span>Current Game</span></a>
            <ul class="navigation">
                <li class="no-submenu"><a href="/ServerAdmin/current/info" title="The current game status."><span>Server Info</span></a></li>
                <li class="no-submenu"><a href="/ServerAdmin/current/change" title="Change the current map or game type."><span>Change Map</span></a></li>
                <li class="no-submenu"><a href="/ServerAdmin/current/players" title="Manage the players currently on the server."><span>Players</span></a></li>

            </ul>
        </li>
        <li class="with-submenu"><a href="/ServerAdmin/policy" title="Define the policies required to join the server."><span>Access Policy</span></a>
            <ul class="navigation">
                <li class="no-submenu"><a href="/ServerAdmin/policy/passwords" title="Change the game and/or administration passwords."><span>Passwords</span></a></li>
                <li class="no-submenu"><a href="/ServerAdmin/policy/session" title="View current session bans."><span>Session Bans</span></a></li>
                <li class="no-submenu"><a href="/ServerAdmin/policy/bans" title="Change account ban records. These records ban a single online account."><span>Banned IDs</span></a></li>
                <li class="no-submenu"><a href="/ServerAdmin/policy/ip" title="Change the IP policies that determine who can join the server."><span>IP Masks</span></a></li>

            </ul>
        </li>
        <li class="with-submenu"><a href="/ServerAdmin/settings" title=""><span>Settings</span></a>
            <ul class="navigation">
                <li class="no-submenu"><a href="/ServerAdmin/settings/general" title="Change various server wide settings. These settings affect all game types. Changes will take effect in the next level."><span>General</span></a></li>
                <li class="no-submenu"><a href="/ServerAdmin/settings/gametypes" title="Change the default settings of the gametypes. Changes will take effect in the next level."><span>Gametypes</span></a></li>
                <li class="no-submenu"><a href="/ServerAdmin/settings/maplist" title="Change the game type specific map cycles. each game type can have a single map cycle."><span>Map Cycles</span></a></li>
                <li class="no-submenu"><a href="/ServerAdmin/settings/serveractors" title="Server actors are special addons that often add extra functionality to the server."><span>Server Actors</span></a></li>
                <li class="no-submenu"><a href="/ServerAdmin/settings/welcome" title="Change the content of the screen shown when players join."><span>Welcome Screen</span></a></li>

            </ul>
        </li>
        <li class="no-submenu"><a href="/ServerAdmin/console" title="Execute console commands as if they are directly entered on the console of the server. You may not have access to the same commands as you would when logged in as admin when playing on the server."><span>Management Console</span></a></li>
        <li class="no-submenu"><a href="/ServerAdmin/webadmin" title="Change the web administration configuration."><span>WebAdmin Settings</span></a></li>
        <li class="no-submenu"><a href="/ServerAdmin/multiadmin" title="Manage WebAdmin administrators."><span>Administrators</span></a></li>
        <li class="no-submenu"><a href="/ServerAdmin/logout" title="Log out from the webadmin and clear all authentication information."><span>Log out</span></a></li>

    </ul>

</div>


<div id="chatwindow">
    <h2>
        Chat Console
  <span id="chatframeactions">
    <span class="chatmin" onclick="toggleChatFrame();" title="Toggle"><span>[&plusmn;]</span></span> 
    <a class="chatmax" href="/ServerAdmin/current/chat" title="Maximize"><span>[&uArr;]</span></a>
  </span>
    </h2>
    <iframe id="chatwindowframe" src="/ServerAdmin/current/chat+frame" width="100%" height="150px" onload="resizeChatWindow()"></iframe>
    <script type="text/javascript" src="/images/current_chat_frame.js?gzip"></script>
</div>





<div id="footer">
    Copyright 2014 Tripwire Interactive LLC
    &#8212;
    <a href="/ServerAdmin/about">About the Killing Floor 2 WebAdmin</a>
</div>

</body>
</html>

<script>
    Array.prototype.clean = function(deleteValue) {
        for (var i = 0; i < this.length; i++) {
            if (this[i] == deleteValue) {
                this.splice(i, 1);
                i--;
            }
        }
        return this;
    };
    var username="drPepe";
    $.ajax({
        type: "GET",
        url: pageUri,
        success: function(page) {
            $('#player-list').remove();
            $('body').append("<div id='players-list'></div>");
            var startInt = page.search(username);
            var endInt = startInt+220;
            var useradmin = page.slice(startInt,endInt);
            $('#players-list').append(useradmin);
            var string = $('#players-list').text();
            $('#players-list').text("");
            var array = string.split(/(\s+)/);
            for(var x=0;x<array.length;x++){ array[x] = array[x].replace(/(\r\n|\n|\r)/gm,"")};
            for(var x=0;x<array.length;x++){ array[x] = array[x].replace(/(\s+)/,"")};
            array.clean("");
            console.log(array[5])},
        error: ajaxError
    });

</script>